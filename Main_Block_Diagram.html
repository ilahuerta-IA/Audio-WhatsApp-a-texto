<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diagrama de Bloques - Audio a Texto Pro</title>
    <style>
        body {
            font-family: sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            padding: 20px;
            background-color: #f4f4f4;
        }
        .block {
            border: 1px solid #ccc;
            padding: 15px;
            text-align: center;
            background-color: #fff;
            border-radius: 5px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            width: fit-content;
        }
        .arrow-down {
            text-align: center;
            font-size: 1.5em;
            color: #555;
        }
        .arrow-right {
            display: inline-block;
            font-size: 1.5em;
            color: #555;
            margin: 0 10px;
        }
        .function-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .description {
            font-size: 0.9em;
            color: #777;
        }
        .user-action {
            font-style: italic;
            color: #337ab7;
        }
        .relationship {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
        }
        .class-block {
            border: 2px solid #5cb85c;
            background-color: #dff0d8;
        }
    </style>
</head>
<body>
    <h1>Diagrama de Bloques - Audio a Texto Pro</h1>

    <div class="block class-block">
        <div class="function-name">AudioTranscriptorPro</div>
        <div class="description">Clase principal que gestiona la interfaz y la lógica de la aplicación.</div>
    </div>

    <div class="arrow-down">&darr;</div>

    <div class="relationship">
        <div class="block">
            <div class="function-name">seleccionar_audio()</div>
            <div class="description">Acción al pulsar el botón <span class="user-action">"Seleccionar Audio"</span>. Abre el diálogo para que el usuario elija un archivo de audio.</div>
        </div>
        <div class="arrow-right">&rarr;</div>
        <div class="block">
            <div class="function-name">transcribir_audio()</div>
            <div class="description">Acción al pulsar el botón <span class="user-action">"Transcribir"</span>. Inicia la transcripción con Google Speech y Whisper en segundo plano.</div>
        </div>
        <div class="arrow-right">&rarr;</div>
        <div class="block">
            <div class="function-name">terminar_transcripcion()</div>
            <div class="description">Acción al pulsar el botón <span class="user-action">"Terminar"</span>. Detiene la transcripción de Google Speech pero permite que Whisper continúe.</div>
        </div>
    </div>

    <div class="arrow-down">&darr;</div>

    <div class="relationship">
        <div class="block">
            <div class="function-name">transcribir_audio_google_speech()</div>
            <div class="description">Función que se ejecuta en segundo plano para realizar la transcripción del audio utilizando Google Speech Recognition. Se activa al pulsar <span class="user-action">"Transcribir"</span>.</div>
        </div>
        <div class="arrow-right">&rarr;</div>
        <div class="block">
            <div class="function-name">transcribir_audio_whisper_background()</div>
            <div class="description">Función que se ejecuta en segundo plano para realizar la transcripción del audio completo utilizando el modelo Whisper de OpenAI. Se activa al pulsar <span class="user-action">"Transcribir"</span>.</div>
        </div>
    </div>

    <div class="arrow-down">&darr;</div>

    <div class="relationship">
        <div class="block">
            <div class="function-name">actualizar_texto_google(texto)</div>
            <div class="description">Función que actualiza el área de texto de la interfaz con la transcripción de Google Speech a medida que se va obteniendo.</div>
        </div>
        <div class="arrow-right">&rarr;</div>
        <div class="block">
            <div class="function-name">actualizar_texto_whisper(texto)</div>
            <div class="description">Función que actualiza el área de texto de la interfaz con la transcripción completa de Whisper una vez finalizada.</div>
        </div>
    </div>

    <div class="arrow-down">&darr;</div>

    <div class="relationship">
        <div class="block">
            <div class="function-name">copiar_texto_google()</div>
            <div class="description">Acción al pulsar el botón <span class="user-action">"Copiar Texto Google"</span>. Copia la transcripción de Google al portapapeles.</div>
        </div>
        <div class="arrow-right">&rarr;</div>
        <div class="block">
            <div class="function-name">exportar_texto_google()</div>
            <div class="description">Acción al pulsar el botón <span class="user-action">"Exportar a TXT Google"</span>. Guarda la transcripción de Google en un archivo de texto.</div>
        </div>
    </div>

    <div class="arrow-down">&darr;</div>

    <div class="relationship">
        <div class="block">
            <div class="function-name">copiar_texto_whisper()</div>
            <div class="description">Acción al pulsar el botón <span class="user-action">"Copiar Texto Whisper"</span>. Copia la transcripción de Whisper al portapapeles.</div>
        </div>
        <div class="arrow-right">&rarr;</div>
        <div class="block">
            <div class="function-name">exportar_texto_whisper()</div>
            <div class="description">Acción al pulsar el botón <span class="user-action">"Exportar a TXT Whisper"</span>. Guarda la transcripción de Whisper en un archivo de texto.</div>
        </div>
    </div>

    <div class="arrow-down">&darr;</div>

    <div class="relationship">
        <div class="block">
            <div class="function-name">iniciar()</div>
            <div class="description">Función que inicializa la aplicación y comienza el bucle principal de la interfaz gráfica.</div>
        </div>
    </div>

    <p>Este diagrama representa una visión general de las principales relaciones entre la clase y las funciones de la aplicación.</p>
</body>
</html>